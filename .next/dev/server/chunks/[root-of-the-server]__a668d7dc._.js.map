{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahmu/OneDrive/Desktop/simonetti-hybrid/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\n\n// For server-side operations with elevated privileges\nexport const supabaseAdmin = createClient(\n  supabaseUrl,\n  process.env.SUPABASE_SERVICE_ROLE_KEY || supabaseAnonKey\n)\n"],"names":[],"mappings":";;;;;;AAAA;;;;;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,yRAAY,EAAC,aAAa;AAG3C,MAAM,gBAAgB,IAAA,yRAAY,EACvC,aACA,QAAQ,GAAG,CAAC,yBAAyB,IAAI"}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mahmu/OneDrive/Desktop/simonetti-hybrid/pages/api/settings.ts"],"sourcesContent":["import type { NextApiRequest, NextApiResponse } from 'next'\r\nimport { supabase } from '@/lib/supabase'\r\n\r\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\r\n  if (req.method === 'GET') {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('shop_settings')\r\n        .select('*')\r\n        .eq('id', 'main')\r\n        .single()\r\n\r\n      if (error) throw error\r\n\r\n      res.status(200).json({\r\n        deliveryTime: data.delivery_time,\r\n        minOrderValue: data.min_order_value,\r\n        deliveryFee: data.delivery_fee,\r\n        isOpen: data.is_open,\r\n        openFrom: data.open_from || '14:00',\r\n        openUntil: data.open_until || '22:00',\r\n      })\r\n    } catch (error: any) {\r\n      res.status(500).json({ error: error.message })\r\n    }\r\n\r\n  } else if (req.method === 'POST') {\r\n    try {\r\n      const { deliveryTime, minOrderValue, deliveryFee, isOpen, openFrom, openUntil } = req.body\r\n\r\n      const { data, error } = await supabase\r\n        .from('shop_settings')\r\n        .update({\r\n          delivery_time: deliveryTime,\r\n          min_order_value: minOrderValue,\r\n          delivery_fee: deliveryFee,\r\n          is_open: isOpen,\r\n          open_from: openFrom,\r\n          open_until: openUntil,\r\n        })\r\n        .eq('id', 'main')\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n      res.status(200).json(data)\r\n    } catch (error: any) {\r\n      res.status(500).json({ error: error.message })\r\n    }\r\n  } else {\r\n    res.status(405).json({ error: 'Method not allowed' })\r\n  }\r\n}"],"names":[],"mappings":";;;;AACA;;;;;;AAEe,eAAe,QAAQ,GAAmB,EAAE,GAAoB;IAC7E,IAAI,IAAI,MAAM,KAAK,OAAO;QACxB,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kKAAQ,CACnC,IAAI,CAAC,iBACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,QACT,MAAM;YAET,IAAI,OAAO,MAAM;YAEjB,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBACnB,cAAc,KAAK,aAAa;gBAChC,eAAe,KAAK,eAAe;gBACnC,aAAa,KAAK,YAAY;gBAC9B,QAAQ,KAAK,OAAO;gBACpB,UAAU,KAAK,SAAS,IAAI;gBAC5B,WAAW,KAAK,UAAU,IAAI;YAChC;QACF,EAAE,OAAO,OAAY;YACnB,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE,OAAO,MAAM,OAAO;YAAC;QAC9C;IAEF,OAAO,IAAI,IAAI,MAAM,KAAK,QAAQ;QAChC,IAAI;YACF,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,WAAW,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,IAAI,IAAI;YAE1F,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kKAAQ,CACnC,IAAI,CAAC,iBACL,MAAM,CAAC;gBACN,eAAe;gBACf,iBAAiB;gBACjB,cAAc;gBACd,SAAS;gBACT,WAAW;gBACX,YAAY;YACd,GACC,EAAE,CAAC,MAAM,QACT,MAAM,GACN,MAAM;YAET,IAAI,OAAO,MAAM;YACjB,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;QACvB,EAAE,OAAO,OAAY;YACnB,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE,OAAO,MAAM,OAAO;YAAC;QAC9C;IACF,OAAO;QACL,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;QAAqB;IACrD;AACF"}}]
}